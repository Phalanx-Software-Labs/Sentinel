================================================================================
SENTINEL — PHASE 2: FULL SWEEP & SCHEDULED INTEGRITY
================================================================================
Goal: Add full card sweep with manifest verification, timestamp on card,
and interval-based gating. Runs only when X days have elapsed since last sweep.
================================================================================


--------------------------------------------------------------------------------
1. IN SCOPE
--------------------------------------------------------------------------------
- Full sweep capability:
  (a) Read every existing file on card, hash each, compare to stored manifest.
  (b) Write/verify/delete over all free space (same pattern as quick check,
      but covering entire free space).
  - Build manifest on PC: store hashes of all existing files (path + hash).
  - Re-read and re-hash all files during full sweep; compare to manifest.
    Detects silent corruption (bit rot).
- Timestamp on card:
  - Single small file (e.g. date/time) indicating last full sweep.
  - Path: e.g. Sentinel/.last_sweep or similar; minimal footprint.
  - Read on launch; run full sweep only if (now - last_sweep) >= X days.
- Interval gating:
  - Configurable X (e.g. 7, 14, 21, 30 days).
  - UI: option to run full sweep manually (override) vs. wait for schedule.
- Background execution:
  - Full sweep can take 1+ hours; run in background.
  - User can minimize; progress shown when returning.
- Result reporting:
  - Pass/fail for manifest comparison.
  - Pass/fail for free-space write/verify.
  - Clear summary of what was checked.


--------------------------------------------------------------------------------
2. OUT OF SCOPE FOR PHASE 2
--------------------------------------------------------------------------------
- Quality detection or automatic schedule recommendation.
- Support for very small or low-quality cards (special handling).
- Mimic or host integration.
- Packaging as .exe.


--------------------------------------------------------------------------------
3. DELIVERABLES
--------------------------------------------------------------------------------
- Full sweep logic in core.py (or new sweep.py).
- Manifest build and verify functions.
- Timestamp read/write on card.
- UI: schedule interval setting, "Run full sweep now" override, background
  progress, result display.
- Updated config for interval (X days).


--------------------------------------------------------------------------------
4. KEY TECHNICAL NOTES
--------------------------------------------------------------------------------
- Manifest storage: on PC, in user data dir, per-drive (e.g. by drive letter).
- Safety: full sweep leaves 100 MB+ free; never fill card completely.
- Honest confidence: full sweep ~85% (higher than quick check ~40%).


--------------------------------------------------------------------------------
5. ESTIMATE
--------------------------------------------------------------------------------
- Implementation: ~3–5 days (manifest logic, free-space sweep, timestamp I/O,
  background worker, UI updates).
- Testing: manual run on real card; verify manifest detect on corrupted file.


================================================================================
END OF DOCUMENT — PHASE 2
================================================================================
